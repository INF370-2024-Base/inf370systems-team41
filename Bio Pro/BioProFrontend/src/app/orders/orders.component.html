<!-- <p>orders works!</p> -->

<div>
  <div class="container">
    <div style="display: flex; gap: 10px; align-items: center;text-align: center;">
      <mat-form-field class="search-field" style="flex-grow: 1;">
          <input matInput [(ngModel)]="orderId" placeholder="Enter Order ID" (ngModelChange)="onOrderIdChange($event)">
      </mat-form-field>
      <button mat-raised-button color="primary" style="width: 100px; height: 40px; display: flex; justify-content: center; align-items: center;" (click)="searchOrders()">Search</button>
    <button mat-raised-button color="warn" style="width: 100px; height: 40px; display: flex; justify-content: center; align-items: center;" (click)="clearSeacrhOrders()">Clear</button>  </div>
  
  
    <mat-accordion>
      <mat-expansion-panel *ngFor="let order of ordersInfo">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Order ID: {{ order.systemOrder.orderId }}- Patient: {{ order.patient.firsName }} {{ order.patient.lastname }}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <button class="edit-button" (click)="editOrder(order.systemOrder.orderId)">✏️</button>
        <button class="trash-button" (click)="deleteOrder(order.systemOrder.orderId)">🗑️</button>
        <p>Order Status: {{ order.orderStatus.description }}</p>
        <p>Order Type: {{ order.orderType.description }}</p>
        <p>Order Direction: {{ order.orderDirection.description }}</p>
        <p>Timeline Details: {{ order.timeline.timelineDetails }}</p>
    
        <strong>Teethshades</strong>
        <div *ngFor="let teethshade of order.teethshades">
          <div class="color-box" [style.background]="teethshade.colourCode" style="width: 30px; height: 30px; border: 1px solid #000;"></div>
          <span>{{ teethshade.colourName }}</span>
        </div>
        <br> 
        <canvas id="myCanvas{{order.systemOrder.orderId}}" width="500" height="500"></canvas>
      </mat-expansion-panel>
    </mat-accordion>
  
    <div *ngIf="orders.length === 0 && orderId.trim() !== ''">
      <p>No orders found.</p>
    </div>
  </div>
  <app-edit-order-modal *ngIf="selectedOrder" (close)="closeModal()"></app-edit-order-modal>