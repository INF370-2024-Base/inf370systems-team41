<h1 mat-dialog-title>Edit Employee</h1>
<div mat-dialog-content>
  <p class="card-text"><strong>Name:</strong> {{data.firstName}} {{data.lastName}}</p>
  <p class="card-text"><strong>Email:</strong> {{data.email}}</p>
  <hr>
  <form [formGroup]="editEmployeeForm" class="container">
    <div class="form-group">
      <label for="jobTitle">Job Title:</label>
      <select id="jobTitle" formControlName="jobTitleId" class="form-control">
        <option *ngFor="let job of jobTitles" [value]="job.JobTitleId">
          {{ job.titleName }}
        </option>
      </select>
      <div *ngIf="editEmployeeForm.get('jobTitleId')?.invalid && editEmployeeForm.get('jobTitleId')?.touched" class="text-danger">
        Job Title is required.
      </div>
    </div>
    <div class="form-group">
      <label for="address">Address:</label>
      <input type="text" id="address" formControlName="address" class="form-control">
      <div *ngIf="editEmployeeForm.get('address')?.invalid && editEmployeeForm.get('address')?.touched" class="text-danger">
        Address is required.
      </div>
    </div>
    <div *ngIf="isLoading" class="text-center">
      <mat-spinner></mat-spinner> <!-- Angular Material spinner for loading state -->
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger mt-2">
      {{ errorMessage }}
    </div>
  </form>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="onCancel()" class="btn btn-secondary">Cancel</button>
  <button mat-button (click)="onSave()" [disabled]="editEmployeeForm.invalid || isLoading" class="btn btn-primary">Save</button>
</div>
